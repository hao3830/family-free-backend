
CREATE DATABASE IF NOT EXISTS se_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS QUEQUAN (
    MAQUEQUAN INT NOT NULL AUTO_INCREMENT,
    TENQUANHE VARCHAR(50) NOT NULL,

    PRIMARY KEY (MAQUEQUAN)
);

CREATE TABLE IF NOT EXISTS NGHENGHIEP (
    MANGHENGHIEP INT NOT NULL AUTO_INCREMENT,
    TENNGHENGHIEP VARCHAR(50) NOT NULL,

    PRIMARY KEY (MANGHENGHIEP)
);

CREATE TABLE IF NOT EXISTS QUANHE (
    MALOAIQUANHE INT NOT NULL AUTO_INCREMENT,
    TENLOAIQUANHE VARCHAR(50) NOT NULL,

    PRIMARY KEY (MALOAIQUANHE)
);

CREATE TABLE IF NOT EXISTS THANHVIEN (
    MATHANHVIEN INT NOT NULL AUTO_INCREMENT,
    HOVATEN VARCHAR(50) NOT NULL,
    GIOITINH INT NOT NULL,
    NGAYGIOSINH DATETIME  NOT NULL,
    MAQUEQUAN INT NOT NULL,
    MANGHENGHIEP INT NOT NULL,
    DIACHI VARCHAR(100) NOT NULL,
    MATHANHVIENCU VARCHAR(50),
    MALOAIQUANHE INT NOT NULL,
    NGAYPHATSINH DATETIME  NOT NULL DEFAULT CURRENT_TIMESTAMP,


    PRIMARY KEY (MATHANHVIEN),

    FOREIGN KEY (MAQUEQUAN) REFERENCES QUEQUAN(MAQUEQUAN),
    FOREIGN KEY (MANGHENGHIEP) REFERENCES NGHENGHIEP(MANGHENGHIEP),
    FOREIGN KEY (MALOAIQUANHE) REFERENCES QUANHE(MALOAIQUANHE)
);


CREATE TABLE IF NOT EXISTS BAOCAOTANGGIAM (
    MABAOCAOTANGGIAM INT NOT NULL AUTO_INCREMENT,
    NAM INT NOT NULL,
    SOLUONGSINH INT NOT NULL,
    SOLUONKETHON INT NOT NULL,
    SOLUONGMAT INT NOT NULL,

    PRIMARY KEY (MABAOCAOTANGGIAM)

);

CREATE TABLE IF NOT EXISTS NGUYENNHAN (
    MANGUYENNHAN INT NOT NULL AUTO_INCREMENT,
    TENNGUYENNHAN VARCHAR(50) NOT NULL,

    PRIMARY KEY(MANGUYENNHAN)
);

CREATE TABLE IF NOT EXISTS DIADIEMMAITANG (
    MADIADIEMMAITANG INT NOT NULL AUTO_INCREMENT,
    TENDIADIEMMAITANG VARCHAR(50) NOT NULL,

    PRIMARY KEY(MADIADIEMMAITANG)
);


CREATE TABLE IF NOT EXISTS KETTHUC (
    MAKETTHUC INT NOT NULL AUTO_INCREMENT,
    HOVATEN VARCHAR(50) NOT NULL,
    NGAYGIOMAT DATETIME  NOT NULL,
    MANGUYENNHAN INT NOT NULL,
    MADIADIEMMAITANG INT NOT NULL,

    PRIMARY KEY(MAKETTHUC),
    FOREIGN KEY (MANGUYENNHAN) REFERENCES NGUYENNHAN(MANGUYENNHAN),
    FOREIGN KEY (MADIADIEMMAITANG) REFERENCES DIADIEMMAITANG(MADIADIEMMAITANG)
);

CREATE TABLE IF NOT EXISTS LOAITHANHTICH (
    MALOAITHANHTICH INT NOT NULL AUTO_INCREMENT,
    TENLOAITHANHTICH VARCHAR(50) NOT NULL,

    PRIMARY KEY(MALOAITHANHTICH)
);

CREATE TABLE IF NOT EXISTS BAOCAOTHANHTICH (
    MABAOCAOTHANHTICH INT NOT NULL AUTO_INCREMENT,
    NAM INT NOT NULL,
    MALOAITHANHTICH INT NOT NULL,
    SOLUONGTHANHTICH INT NOT NULL,

    PRIMARY KEY(MABAOCAOTHANHTICH),
    FOREIGN KEY (MALOAITHANHTICH) REFERENCES LOAITHANHTICH(MALOAITHANHTICH)
);


CREATE TABLE IF NOT EXISTS THANHTICH (
    MATHANHTICH INT NOT NULL AUTO_INCREMENT,
    HOVATEN VARCHAR(50) NOT NULL,
    MALOAITHANHTICH INT NOT NULL,
    NGAYPHATSINH DATETIME  NOT NULL,

    PRIMARY KEY(MATHANHTICH),
    FOREIGN KEY (MALOAITHANHTICH) REFERENCES LOAITHANHTICH(MALOAITHANHTICH)
);





